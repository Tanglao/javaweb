1. 单机变多机后的问题
2. 单机变多机后，事务如何处理
3. 多机sequence问题与处理
4. 多机数据查询，分页查询处理
5. 如何对外提供数据访问层功能
6. 什么是普通hash、一致性hash、虚拟hash
7. 如果做数据平滑迁移

答：

1. 增sequence问题，删改 事务问题， 查 多机join问题
2. CAP，分布式事务支出，或最终一致性，Paxos领导选举
3. 唯一ID生成
4. 冗余，jdbc内存合并
5. 改写sql解析、结果处理
6. 通过hash函数确定数据分布，一致性hash将结点对应的hash值变成一个固定范围，结点的退出新增只影响附近结点，虚拟hash一个物理结点对应多个虚拟结点且均匀的分布在hash环上，物理结点的加入与移除会均匀的影响周围结点。
7. 迁移开始记录源库的增量日志，将数据写新库，重复，收敛整个过程，源库停止一段时间，处理完少量日志，切换到新库。



